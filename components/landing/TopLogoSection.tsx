import Image from 'next/image'
import Link from 'next/link'
import { useUser } from '@/components/auth/useUser'
import { expandRoute } from '@/utils/routing'
import styled from 'styled-components'
import theme from '@/styles/theme'
import { Button } from '@/components/core/Button'
import { AuthenticatedLink } from '@/components/core/AuthenticatedLink'

export const TopLogoSection = () => {
  const { user } = useUser()

  return (
    <Background>
      <Content>
        <Logo href={expandRoute('home')}>
          <Image
            id={'cabin-logo'}
            src="/images/cabin.png"
            alt="Cabin Logo"
            width={56}
            height={56}
          />
          <Wordmark />
        </Logo>
        {!user && (
          <span
            style={{
              textShadow:
                '2px 2px 4px rgba(0, 0, 0, 1), 4px 4px 8px rgba(0, 0, 0, 0.8), 6px 6px 12px rgba(0, 0, 0, 0.7), 8px 8px 16px rgba(0, 0, 0, 0.5)',
            }}
          >
            <AuthenticatedLink href={expandRoute('cityDirectory')}>
              <Button variant={'link-inverted'}>Log in &bull; Sign up</Button>
            </AuthenticatedLink>
          </span>
        )}
      </Content>
    </Background>
  )
}

const Wordmark = () => (
  <svg
    width="90"
    height="24"
    viewBox="0 0 90 24"
    xmlns="http://www.w3.org/2000/svg"
    style={{ width: '90px', height: '24px', color: theme.colors.white }}
  >
    <path
      d="M0.231445 13.227C0.231445 11.167 0.691445 9.32703 1.61145 7.70703C2.55145 6.06703 3.82145 4.79703 5.42144 3.89703C7.04144 2.97703 8.85145 2.51703 10.8514 2.51703C13.1914 2.51703 15.2414 3.11703 17.0014 4.31703C18.7614 5.51703 19.9914 7.17703 20.6914 9.29703H15.8614C15.3814 8.29703 14.7014 7.54703 13.8214 7.04703C12.9614 6.54703 11.9614 6.29703 10.8214 6.29703C9.60145 6.29703 8.51145 6.58703 7.55145 7.16703C6.61145 7.72703 5.87145 8.52703 5.33145 9.56703C4.81145 10.607 4.55145 11.827 4.55145 13.227C4.55145 14.607 4.81145 15.827 5.33145 16.887C5.87145 17.927 6.61145 18.737 7.55145 19.317C8.51145 19.877 9.60145 20.157 10.8214 20.157C11.9614 20.157 12.9614 19.907 13.8214 19.407C14.7014 18.887 15.3814 18.127 15.8614 17.127H20.6914C19.9914 19.267 18.7614 20.937 17.0014 22.137C15.2614 23.317 13.2114 23.907 10.8514 23.907C8.85145 23.907 7.04144 23.457 5.42144 22.557C3.82145 21.637 2.55145 20.367 1.61145 18.747C0.691445 17.127 0.231445 15.287 0.231445 13.227Z"
      fill="currentColor"
    />
    <path
      d="M23.1988 15.357C23.1988 13.677 23.5288 12.187 24.1888 10.887C24.8688 9.58703 25.7788 8.58703 26.9188 7.88703C28.0788 7.18703 29.3688 6.83703 30.7888 6.83703C32.0288 6.83703 33.1088 7.08703 34.0288 7.58703C34.9688 8.08703 35.7188 8.71703 36.2788 9.47703V7.10703H40.5088V23.727H36.2788V21.297C35.7388 22.077 34.9888 22.727 34.0288 23.247C33.0888 23.747 31.9988 23.997 30.7588 23.997C29.3588 23.997 28.0788 23.637 26.9188 22.917C25.7788 22.197 24.8688 21.187 24.1888 19.887C23.5288 18.567 23.1988 17.057 23.1988 15.357ZM36.2788 15.417C36.2788 14.397 36.0788 13.527 35.6788 12.807C35.2788 12.067 34.7388 11.507 34.0588 11.127C33.3788 10.727 32.6488 10.527 31.8688 10.527C31.0888 10.527 30.3688 10.717 29.7088 11.097C29.0488 11.477 28.5088 12.037 28.0888 12.777C27.6888 13.497 27.4888 14.357 27.4888 15.357C27.4888 16.357 27.6888 17.237 28.0888 17.997C28.5088 18.737 29.0488 19.307 29.7088 19.707C30.3888 20.107 31.1088 20.307 31.8688 20.307C32.6488 20.307 33.3788 20.117 34.0588 19.737C34.7388 19.337 35.2788 18.777 35.6788 18.057C36.0788 17.317 36.2788 16.437 36.2788 15.417Z"
      fill="currentColor"
    />
    <path
      d="M48.8108 9.53703C49.3508 8.73703 50.0908 8.08703 51.0308 7.58703C51.9908 7.08703 53.0808 6.83703 54.3008 6.83703C55.7208 6.83703 57.0008 7.18703 58.1408 7.88703C59.3008 8.58703 60.2108 9.58703 60.8708 10.887C61.5508 12.167 61.8908 13.657 61.8908 15.357C61.8908 17.057 61.5508 18.567 60.8708 19.887C60.2108 21.187 59.3008 22.197 58.1408 22.917C57.0008 23.637 55.7208 23.997 54.3008 23.997C53.0608 23.997 51.9708 23.757 51.0308 23.277C50.1108 22.777 49.3708 22.137 48.8108 21.357V23.727H44.6108V1.52703H48.8108V9.53703ZM57.6008 15.357C57.6008 14.357 57.3908 13.497 56.9708 12.777C56.5708 12.037 56.0308 11.477 55.3508 11.097C54.6908 10.717 53.9708 10.527 53.1908 10.527C52.4308 10.527 51.7108 10.727 51.0308 11.127C50.3708 11.507 49.8308 12.067 49.4108 12.807C49.0108 13.547 48.8108 14.417 48.8108 15.417C48.8108 16.417 49.0108 17.287 49.4108 18.027C49.8308 18.767 50.3708 19.337 51.0308 19.737C51.7108 20.117 52.4308 20.307 53.1908 20.307C53.9708 20.307 54.6908 20.107 55.3508 19.707C56.0308 19.307 56.5708 18.737 56.9708 17.997C57.3908 17.257 57.6008 16.377 57.6008 15.357Z"
      fill="currentColor"
    />
    <path
      d="M67.0728 5.12703C66.3328 5.12703 65.7128 4.89703 65.2128 4.43703C64.7328 3.95703 64.4928 3.36703 64.4928 2.66703C64.4928 1.96703 64.7328 1.38703 65.2128 0.927031C65.7128 0.447031 66.3328 0.207031 67.0728 0.207031C67.8128 0.207031 68.4228 0.447031 68.9028 0.927031C69.4028 1.38703 69.6528 1.96703 69.6528 2.66703C69.6528 3.36703 69.4028 3.95703 68.9028 4.43703C68.4228 4.89703 67.8128 5.12703 67.0728 5.12703ZM69.1428 7.10703V23.727H64.9428V7.10703H69.1428Z"
      fill="currentColor"
    />
    <path
      d="M82.5025 6.86703C84.4825 6.86703 86.0825 7.49703 87.3025 8.75703C88.5225 9.99703 89.1325 11.737 89.1325 13.977V23.727H84.9324V14.547C84.9324 13.227 84.6025 12.217 83.9425 11.517C83.2825 10.797 82.3825 10.437 81.2424 10.437C80.0825 10.437 79.1625 10.797 78.4825 11.517C77.8224 12.217 77.4924 13.227 77.4924 14.547V23.727H73.2924V7.10703H77.4924V9.17703C78.0525 8.45703 78.7625 7.89703 79.6225 7.49703C80.5024 7.07703 81.4625 6.86703 82.5025 6.86703Z"
      fill="currentColor"
    />
  </svg>
)

const Logo = styled(Link)`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 1.6rem;
  flex-shrink: 0;
`

const Background = styled.div`
  display: flex;
  align-self: center;
  width: 100%;
`

const Content = styled.div`
  display: flex;
  align-self: center;
  justify-content: space-between;
  align-items: center;
  gap: 2.4rem;
  width: 100%;
  height: 5.6rem;
  margin: auto;

  Button {
    padding: 0 1.6rem 0 0;
  }

  ${({ theme }) => theme.bp.md} {
    padding: 3.2rem 2.4rem 3.2rem 12.8rem;
    max-width: 128rem;

    #cabin-logo {
      display: none;
    }
  }

  ${({ theme }) => theme.bp.lg} {
    padding-left: 14rem;
  }
`
